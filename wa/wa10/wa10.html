<!DOCTYPE html>
<html lang="en-US">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width" />
  <title>Silly Story Generator</title>
  <style>
    body {
      font-family: helvetica, sans-serif;
      width: 350px;
      margin: 20px auto;
    }

    label {
      font-weight: bold;
    }

    div {
      padding-bottom: 20px;
    }

    input[type="text"] {
      padding: 5px;
      width: 200px;
    }

    p.story {
      background: #ffc125;
      color: #5e2612;
      padding: 10px;
      visibility: hidden;
    }
  </style>
</head>
<body>
  <div>
    <label for="customname">Enter custom name:</label>
    <input id="customname" type="text" placeholder="Custom Name" />
  </div>
  
  <div>
    <button class="randomize">Generate random story</button>
  </div>

  <p class="story"></p>

  <script>
    // JavaScript code goes here
    const customName = document.getElementById('customname');
    const randomize = document.querySelector('.randomize');
    const story = document.querySelector('.story');

    function randomValueFromArray(array){
      const random = Math.floor(Math.random()*array.length);
      return array[random];
    }

    const storyText = 'Once upon a time there was a person named :insertx:. Now, today they were on a mission. A mission to go to :inserty:. However, just as they finished their very important task they :insertz:. Bob saw the whole thing, but was not surprised â€” :insertx: weighs 300 pounds, and it was a hot day.';

    const insertX = [
      'Hatsune Miku',
      'Jerma',
      'Minnie',
      'Jack Skellington',
      'Hello Kitty',
      'Riku',
      'Gojo'
    ];

    const insertY = [
      'Miku Expo',
      'Assassinate the president',
      'the White House',
      'join a rap battle',
      'join scientology',
      'argue with people on twitter'
    ];

    const insertZ = [
      'were killed by the FBI',
      'were abducted by aliens',
      'mauled by a pack of dogs',
      'said "he\'s right behing me isn\'t he...."',
      'got selected by MrBeast to be sent to hell for 100 days',
      'found out how many licks it takes to get to the center of a tootsie roll pop',
      'met Leon Kennedy'
    ];

    randomize.addEventListener('click', result);

    function result() {
      let newStory = storyText;
      const xItem = randomValueFromArray(insertX);
      const yItem = randomValueFromArray(insertY);
      const zItem = randomValueFromArray(insertZ);
      newStory = newStory.replace(':insertx:', xItem);
      newStory = newStory.replace(':inserty:', yItem);
      newStory = newStory.replace(':insertz:', zItem);
      if (customName.value !== '') {
        const name = customName.value;
        newStory = newStory.replace(/Bob/g, name); 
      }
      if (document.getElementById("uk").checked) {
        const weight = Math.round(300 / 14) + ' stone';
        const temperature = Math.round((94 - 32) * (5 / 9)) + ' centigrade';
        newStory = newStory.replace('300 pounds', weight);
        newStory = newStory.replace('94 fahrenheit', temperature);
      }
      story.textContent = newStory;
      story.style.visibility = 'visible';
    }
  </script>
</body>
</html>

